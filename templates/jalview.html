<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Mutation Site Display</title>
        <script src="../static/jalview/swingjs/swingjs2.js"></script>
        <!-- <script src="{{ url_for('static', filename = 'jalview/swingjs/swingjs2.js') }}"></script> --> <!-- import and execute JalviewJS's SwingJS bootstrap -->
        <script>
            // boilerplate warning in case the bootstrap wasn't found 
            if (!self.SwingJS)alert('swingjs2.js was not found. It needs to be in swingjs folder in the same directory as ' + document.location.href)
            
            // Map defines which transpiled class's main function to call see below for passing args
            // serverURL allows the webapp to retrieve data from servers that do not allow CORS
            //  see https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS  
            Info = {
               code: null,
               main: "jalview.bin.Jalview", // starts the JalviewJS desktop
               args: null, // specify command line to be passed to the main method of above class
               core: "jvexamplefile", // preload classes 
               width: 850,
               height: 550,
               readyFunction: null, // called once the app is finished
               serverURL: 'https://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php',
               j2sPath: '../static/jalview/swingjs/j2s',
               //j2sPath: '../{{ url_for('static', filename = 'jalview/swingjs/j2s') }}', 
               console:'sysoutdiv', // div for stdout and stderr log
               allowjavascript: true
            }
            </script>
    </head>

    <body>
        <script>
            // Start JalviewJS with the Info block
            SwingJS.getApplet('JalviewJS', Info)
        </script>
        <!-- JalviewJS console output - can be omitted (may also need to omit reference above! -->
        <div style="position:absolute;left:500px;top:50px;width:600px;height:300px">
            <div id="sysoutdiv" style="border:1px solid 
                green;width:100%;height:95%;overflow:auto; resize:both;">
            </div>
            This is System.out. 
            <a href="javascript:JalviewJS._clearConsole()">clear it</a> 
            <br>
            Add ?j2snocore to URL to see full class list; ?j2sdebug to use uncompressed j2s/core files 
            <br>
            <a href="javascript:getClassList()">get _j2sClassList.txt</a>
        </div>
    </body>
</html>